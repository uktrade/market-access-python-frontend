on:
  pull_request:

permissions:
  pull-requests: write

jobs:
  generate_some_code:
    name: Generate some code!
    runs-on: ubuntu-latest
    #if: ${{ github.actor == 'dependabot[bot]' }}
    steps:
       - name: Generate new requirements.txt file
         run: ../../actions/generate-requirements-txt.sh

       - name: Commit changes
         uses: EndBug/add-and-commit@v9
         with:
           author_name: TSS Dependabot
           author_email: tss-dependabot@digital.trade.gov.uk
           message: 'Your commit message'
           add: 'requirements.txt'
