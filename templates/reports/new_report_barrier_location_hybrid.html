{% extends 'base.html' %}
{% load render_bundle from webpack_loader %}
{% block page_title %}{{ block.super }} - Add - {{ heading.text }}{% endblock %}

{% block body_script %}
    {{ block.super }}
    {% render_bundle 'main' 'js' 'REACT' %}
    {{ react_data|json_script:"location-form-data" }}
    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
            const scriptJson = document.getElementById("location-form-data");
            console.log(JSON.parse(
                document.getElementById("location-form-data").innerHTML
            ))
            ReactApp.renderLocationForm();
        })
    </script>
{% endblock %}

{% block page_content %}

    {% csrf_token %}
    <section class="restrict-width" >

        <a href="{{ urls.back }}" class="govuk-back-link">Back</a>
        {% include 'partials/heading.html' with caption=heading.caption text=heading.text %}
        {% form_error_banner form %}

        <form action="" method="POST">
            <div id="location-form-container">
                <div class="{% form_group_classes form.errors %}">
                    {% include "partials/forms/select_input.html" with field=form.location option_classes="location_option" %}
                </div>
            </div>
            {% include 'reports/partials/new_report_submit_buttons.html' with has_next=has_next next_url=next_url %}
        </form>

	</section>


{% endblock %}
