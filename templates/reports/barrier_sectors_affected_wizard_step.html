{% extends "reports/barrier_wizard_step.html" %}

{% block body_script %}
    {{ block.super }}
    <script>
        ma.pages.report.sectorsWizardStep();
    </script>
{% endblock %}

{% block page_title %} Report A Barrier - Wizard Framework - Sectors Affected{% endblock %}

{% block fields %}
    <div class="govuk-form-group">
        <fieldset class="govuk-fieldset">
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                <h1 class="govuk-fieldset__heading">
                    Sectors affected
                </h1>
            </legend>

            {% form_error_banner form %}

                <!-- Main Sector-->
                <div id="{{ form.main_sector.name }}" class="selection-list govuk-form-group {% if form.main_sector.errors %} govuk-form-group--error{% endif %}">
                    <label class="govuk-label govuk-label--s" for="{{ form.main_sector.id_for_label }}">
                        {{ form.main_sector.label }}
                    </label>

                    {% form_field_error form "main_sector" %}

                    <select class="govuk-select govuk-!-width-full{% if form.sector.errors %} govuk-select--error{% endif %}" id="main_sector_select" name="barrier-sectors-affected-main_sector"{% if form.main_sector.errors %} aria-describedby="main_sector-error"{% endif %}>
                        <option value="" disabled selected>Select a sector</option>
                        {% for id, name in sectors_list %}
                            <option value="{{ id }}">{{ name }}</option>
                        {% endfor %}
                    </select>

                </div>

                <!-- Add Other Sector-->
                <div id="sectors_edit" class="govuk-form-group selection-list {% if form.sectors.errors %} govuk-form-group--error{% endif %}">
                    <label class="govuk-label govuk-label--s" for="{{ form.sectors.id_for_label }}">
                        Add sector
                    </label>

                    {% form_field_error form "sectors" %}

                    <select class="govuk-select govuk-!-width-full  {% if form.sectors.errors %} govuk-select--error{% endif %}" id="sectors_select" name="sector"{% if form.sector.errors %} aria-describedby="sectors-error"{% endif %}>
                        <option value="" disabled selected>Select a sector</option>
                        {% for id, name in sectors_list %}
                            <option value="{{ id }}">{{ name }}</option>
                        {% endfor %}
                    </select>

                    <div id="add-other-sector-button" class="govuk-button govuk-!-margin-top-5 ">Add sector</div>
                </div>

                <!-- Display Other Sector-->
                <div class="selection-list restrict-width" id="sectors_display" >
                    <label class="govuk-label govuk-label--s" for="{{form.sectors.id_for_label }}">
                        {{ form.sectors.label }}
                    </label>

                    <span id="description-hint" class="govuk-hint">
                        {{ form.sectors.help_text }}
                    </span>

                    {% form_field_error form "sectors" %}

                    <ul class="selection-list__list" id="sectors_list_display">

                            <li class="selection-list__list__item">
                                {{ item.name }}
                            </li>

                    </ul>
                    <div id="display-other-sector-button" class="govuk-button">Add sector</div>
                </div>

                <!-- Hidden formtools fields -->
                {{ form.sectors.as_hidden }}

        </fieldset>
    </div>
{% endblock %}
